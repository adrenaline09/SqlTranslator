{% extends 'base.html' %}

{% block title %}About SQL Converter{% endblock %}

{% block content %}
<div class="row">
    <div class="col-12">
        <div class="card bg-dark border-info">
            <div class="card-header bg-info text-white">
                <h2>About SQL Converter</h2>
            </div>
            <div class="card-body">
                <p class="lead">SQL Converter is a tool that helps you convert SQL queries between different database dialects.</p>
                
                <h3>Supported Dialects</h3>
                <p>Current version supports the following SQL dialects:</p>
                <ul>
                    {% for dialect in dialects %}
                    <li><strong>{{ dialect|upper }}</strong></li>
                    {% endfor %}
                </ul>
                
                <h3>Key Features</h3>
                <div class="row mt-4">
                    {% for feature in features %}
                    <div class="col-md-6 mb-4">
                        <div class="card h-100 bg-dark border-secondary">
                            <div class="card-header bg-secondary text-white">
                                <h5>{{ feature.title }}</h5>
                            </div>
                            <div class="card-body">
                                <p>{{ feature.description }}</p>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
                
                <h3>Supported SQL Features</h3>
                <ul>
                    <li>SQL syntax cleanup and normalization</li>
                    <li>Conversion of old-style joins to ANSI JOIN syntax</li>
                    <li>Comprehensive handling of date/time functions and formats</li>
                    <li>Complex Oracle function mapping (DECODE, NVL2, etc.)</li>
                    <li>String operation translation</li>
                    <li>Dialect-specific pagination methods</li>
                    <li>Comment and hint removal</li>
                </ul>
                
                <h3>How It Works</h3>
                <p>The SQL Converter works by:</p>
                <ol>
                    <li>Cleaning and normalizing the input SQL query (removing comments, hints, etc.)</li>
                    <li>Converting old-style joins to modern ANSI JOIN syntax where applicable</li>
                    <li>Converting dialect-specific syntax using regex pattern matching</li>
                    <li>Mapping function names and syntax to target dialect equivalents</li>
                    <li>Special handling for complex cases like DECODE, NVL2, and date functions</li>
                </ol>
                
                <h3>Oracle to PySpark Focus</h3>
                <p>The converter has specialized support for Oracle to PySpark conversions, including:</p>
                <ul>
                    <li>Complete mapping of Oracle functions to PySpark equivalents</li>
                    <li>Special handling for Oracle-specific syntax</li>
                    <li>ROWNUM pagination conversion</li>
                    <li>Old-style join conversion</li>
                    <li>Date format pattern conversion</li>
                </ul>
                
                <h3>AI-Powered SQL Optimization</h3>
                <p>The SQL Converter includes an optional AI-powered SQL optimization feature that can provide intelligent suggestions to improve the performance of your queries.</p>
                <div class="alert alert-warning">
                    <i class="bi bi-lightbulb-fill me-2"></i>
                    <strong>Note:</strong> This feature requires an OpenAI API key to be set as an environment variable (OPENAI_API_KEY).
                </div>
                <p>The optimization feature analyzes your SQL query and provides suggestions for:</p>
                <ul>
                    <li>Indexing opportunities to improve query performance</li>
                    <li>Query structure improvements for better readability and efficiency</li>
                    <li>Identifying potential performance bottlenecks</li>
                    <li>Rewrite suggestions with optimized alternatives</li>
                </ul>
                <p>To use this feature, convert your SQL query first, and then click the "Optimize SQL (AI-powered)" button in the results view.</p>

                <h3>Limitations</h3>
                <p>While the converter handles many common SQL patterns, there are some limitations:</p>
                <ul>
                    <li>Very complex queries with nested subqueries may not convert perfectly</li>
                    <li>Some advanced analytics functions may require manual adjustment</li>
                    <li>Database-specific extensions and custom functions may need manual translation</li>
                </ul>
                
                <h3>Usage Examples</h3>
                <p>Check out the <a href="/examples">Examples</a> page to see sample conversions between different dialects.</p>
            </div>
        </div>
    </div>
</div>
{% endblock %}
